var jsConfirm={name:"jsConfirm",version:"0.0.1",cache:{},settings:{},window:"",resized:!1};jsConfirm.init=function(a,b){"use strict";if(!Object.keys(jsConfirm.settings).length){var c=document.getElementById("jsConfirm");jsConfirm._startPosition(c,!1),window.onresize=function(){jsConfirm._resize()}}return a in jsConfirm.settings?void console.error(a+" is already initialized"):"function"!=typeof b.callback?void console.error("Callback it's not provided for "+a):(jsConfirm.settings[a]=b,void(document.body.onclick=function(a){a=a||window.event;var b=a.target||a.srcElement;if(jsConfirm._hasClass(b,"jsConfirmClose"))return void jsConfirm._hide();if("A"===b.nodeName){for(var c in jsConfirm.settings)jsConfirm._hasClass(b,c)&&jsConfirm._show(b,c);if("jsConfirmProceed"===b.getAttribute("id")){if(jsConfirm.settings[jsConfirm.window].callback(b),jsConfirm.settings[jsConfirm.window].url){var d=[],e=jsConfirm.settings[jsConfirm.window].extra;if(e){for(var f in e)e.hasOwnProperty(f)&&d.push(f+"="+e[f]);console.log(d)}jsConfirm._postForm(jsConfirm.settings[jsConfirm.window].url,d,jsConfirm.settings[jsConfirm.window].callback,!0)}jsConfirm._hide()}}}))},jsConfirm._postForm=function(a,b,c,d){"use strict";var e=new XMLHttpRequest;if(e.onerror=function(){d&&setTimeout(function(){jsConfirm._postForm(a,b,c,!1)},1e3)},e.onreadystatechange=function(){4==e.readyState&&c(e.responseText)},e.open("POST",a,!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),b){var f=b.join("&");e.send(f)}else e.send()},jsConfirm._get=function(a,b,c){"use strict";return jsConfirm.cache[a]&&!c?jsConfirm.cache[a]:(jsConfirm.cache[a]=b,jsConfirm.cache[a])},jsConfirm._visible=function(){"use strict";return jsConfirm.window?!0:!1},jsConfirm._resize=function(){"use strict";if(jsConfirm._visible()){var a=document.getElementById("jsConfirm");jsConfirm._recalculate(a),jsConfirm._vCenter(a),jsConfirm._hCenter(a)}else jsConfirm.resized=!0},jsConfirm._recalculate=function(a){"use strict";jsConfirm._get("_windowHeight",jsConfirm._windowHeight(),!0),jsConfirm._get("_windowWidth",jsConfirm._windowWidth(),!0),jsConfirm._get("_modalWidth",jsConfirm._modalWidth(a),!0)},jsConfirm._preventDefault=function(a){"use strict";"function"==typeof a.preventDefault?(a.preventDefault(),a.stopPropagation()):(a.returnValue=!1,a.cancelBubble=!0)},jsConfirm._removeClass=function(a,b){"use strict";b=" "+b,a.className=a.className.replace(b,"")},jsConfirm._addClass=function(a,b){"use strict";jsConfirm._removeClass(a,b),a.className=a.className+" "+b},jsConfirm._hasClass=function(a,b){"use strict";var c=new RegExp("(?:^| )"+b+"(?:$| )","g");return a.className.match(c)?!0:!1},jsConfirm._getChildByClass=function(a,b){"use strict";var c=a.getElementsByClassName(b);return c.length||console.error("The element don't exists, are you sure you copy the base HTML?"),c[0]},jsConfirm._getChildByClasses=function(a,b){"use strict";for(var c=b.split(" "),d=c.length,e=0;d>e;e++)a=jsConfirm._getChildByClass(a,c[e]);return a},jsConfirm._windowWidth=function(){"use strict";return Math.max(document.documentElement.clientWidth,window.innerWidth||0)},jsConfirm._windowHeight=function(){"use strict";return Math.max(document.documentElement.clientHeight,window.innerHeight||0)},jsConfirm._modalWidth=function(a){"use strict";return parseInt(window.getComputedStyle(a).width,10)},jsConfirm._modalHeight=function(a){"use strict";return parseInt(window.getComputedStyle(a).height,10)},jsConfirm._hCenter=function(a){"use strict";var b=jsConfirm._get("_windowWidth",jsConfirm._windowWidth()),c=jsConfirm._get("_modalWidth",jsConfirm._modalWidth(a));a.style.left=(b-c)/2+"px"},jsConfirm._vCenter=function(a){"use strict";var b=jsConfirm._get("_windowHeight",jsConfirm._windowHeight()),c=jsConfirm._modalHeight(a);a.style.top=(b-c)/2+"px"},jsConfirm._startPosition=function(a,b){"use strict";var c=jsConfirm._modalHeight(a);if(b||jsConfirm._addClass(a,"notransition"),jsConfirm._hCenter(a),a.style.top="-"+c+"px",!b){a.offsetLeft+a.offsetTop;jsConfirm._removeClass(a,"notransition")}},jsConfirm._show=function(a,b){"use strict";var c=document.getElementById("jsConfirmBackground");jsConfirm._addClass(c,"show");var d=document.getElementById("jsConfirm");if(jsConfirm.resized&&(jsConfirm._recalculate(d),jsConfirm._startPosition(d,!1),jsConfirm.resized=!1),jsConfirm.settings[b].title){var e=jsConfirm._getChildByClass(d,"title");e.innerText=jsConfirm.settings[b].title}if(jsConfirm.settings[b].text){for(var f=jsConfirm._getChildByClass(d,"description"),g=jsConfirm.settings[b].text,h=jsConfirm.settings[b].data,i=h.length-1,j=i;j>=0;j--)g=g.replace("{/"+h[j]+"/}","<span>"+a.getAttribute("data-"+h[j])+"</span>");f.innerHTML=g}if(jsConfirm.settings[b].cancelText){var k=jsConfirm._getChildByClass(d,"cancel");k.innerText=jsConfirm.settings[b].cancelText}if(jsConfirm.settings[b].proceedText){var l=jsConfirm._getChildByClass(d,"proceed");l.innerText=jsConfirm.settings[b].proceedText}jsConfirm.window=b,jsConfirm._vCenter(d)},jsConfirm._hide=function(){"use strict";var a=document.getElementById("jsConfirm");jsConfirm._startPosition(a,!0);var b=document.getElementById("jsConfirmBackground");jsConfirm._removeClass(b,"show"),jsConfirm.window=""};